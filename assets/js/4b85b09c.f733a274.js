"use strict";(self.webpackChunksupport_webhdx_dev=self.webpackChunksupport_webhdx_dev||[]).push([["829"],{7413:function(e,o,i){i.r(o),i.d(o,{frontMatter:()=>s,toc:()=>c,default:()=>p,metadata:()=>n,assets:()=>d,contentTitle:()=>l});var n=JSON.parse('{"id":"gc/picoboot/compiling-firmware","title":"Compile PicoBoot firmware","description":"Guide for compiling PicoBoot firmware from source, including development environment setup using VS Code and Docker, building instructions, and flashing procedures.","source":"@site/docs/gc/picoboot/compiling-firmware.md","sourceDirName":"gc/picoboot","slug":"/gc/picoboot/compiling-firmware","permalink":"/gc/picoboot/compiling-firmware","draft":false,"unlisted":false,"editUrl":"https://github.com/webhdx/support/tree/main/docs/gc/picoboot/compiling-firmware.md","tags":[],"version":"current","lastUpdatedBy":"Maciej Kobus","lastUpdatedAt":1755034077000,"sidebarPosition":2,"frontMatter":{"sidebar_position":2,"description":"Guide for compiling PicoBoot firmware from source, including development environment setup using VS Code and Docker, building instructions, and flashing procedures."},"sidebar":"MainSidebar","previous":{"title":"Troubleshooting","permalink":"/gc/picoboot/troubleshooting"},"next":{"title":"FAQ","permalink":"/gc/picoboot/faq"}}'),t=i(5893),r=i(65);let s={sidebar_position:2,description:"Guide for compiling PicoBoot firmware from source, including development environment setup using VS Code and Docker, building instructions, and flashing procedures."},l="Compile PicoBoot firmware",d={},c=[{value:"Development Environment Setup",id:"development-environment-setup",level:2},{value:"Building PicoBoot",id:"building-picoboot",level:2},{value:"Flashing the Firmware",id:"flashing-the-firmware",level:2}];function a(e){let o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"compile-picoboot-firmware",children:"Compile PicoBoot firmware"})}),"\n",(0,t.jsx)(o.admonition,{type:"info",children:(0,t.jsx)(o.p,{children:"The recommended way to build PicoBoot is using VS Code with the provided devcontainer environment. This ensures all dependencies are properly set up and consistent across different development machines."})}),"\n",(0,t.jsx)(o.h2,{id:"development-environment-setup",children:"Development Environment Setup"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Install ",(0,t.jsx)(o.a,{href:"https://code.visualstudio.com/",children:"VS Code"})]}),"\n",(0,t.jsxs)(o.li,{children:["Install ",(0,t.jsx)(o.a,{href:"https://www.docker.com/products/docker-desktop",children:"Docker"})]}),"\n",(0,t.jsxs)(o.li,{children:["Install ",(0,t.jsx)(o.a,{href:"https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers",children:"Remote - Containers"})," extension in VS Code"]}),"\n",(0,t.jsx)(o.li,{children:"Clone the PicoBoot repository"}),"\n",(0,t.jsx)(o.li,{children:"Open the project in VS Code"}),"\n",(0,t.jsx)(o.li,{children:'When prompted, click "Reopen in Container" or use Command Palette (F1) and select "Remote-Containers: Reopen in Container"'}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"The devcontainer includes all necessary dependencies including the Raspberry Pi Pico SDK."}),"\n",(0,t.jsx)(o.h2,{id:"building-picoboot",children:"Building PicoBoot"}),"\n",(0,t.jsxs)(o.p,{children:["Starting with v0.4 release, PicoBoot introduced split payload from modchip code. Now only part of the Pico can be updated to replace starting homebrew application. This was done in order to make PicoBoot more resilient to corrupted flash memory as well as to enforce interoperability between PicoBoot and other projects like ",(0,t.jsx)(o.a,{href:"https://github.com/redolution/gekkoboot",children:"gekkoboot"})," or ",(0,t.jsx)(o.a,{href:"https://github.com/emukidid/swiss-gc",children:"Swiss"}),"."]}),"\n",(0,t.jsx)(o.p,{children:"To build PicoBoot:"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsxs)(o.p,{children:["Place your ",(0,t.jsx)(o.code,{children:"payload.dol"})," file in the project root directory"]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["The entrypoint address of the *.dol must be ",(0,t.jsx)(o.strong,{children:"0x81300000"})]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"gekkoboot"})," is recommended and this is what PicoBoot releases are shipped with"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(o.li,{children:["\n",(0,t.jsx)(o.p,{children:"Run the build script:"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.pre,{children:(0,t.jsx)(o.code,{className:"language-shell",children:"./tools/build.sh\n"})}),"\n",(0,t.jsxs)(o.p,{children:["After successful build, you'll find the following files in the ",(0,t.jsx)(o.code,{children:"dist/"})," directory:"]}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"payload_*.uf2"})," - payload file for partial update"]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"picoboot_*.uf2"})," - modchip code for partial udpate"]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.code,{children:"picoboot_full_*.uf2"})," - full firmware + payload file, recommended for end-users and testing"]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"flashing-the-firmware",children:"Flashing the Firmware"}),"\n",(0,t.jsx)(o.p,{children:"To flash new firmware to your Pico board:"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Boot the Pico in ",(0,t.jsx)(o.code,{children:"BOOTSEL"})," mode (hold ",(0,t.jsx)(o.code,{children:"BOOTSEL"})," button and plug USB cable)"]}),"\n",(0,t.jsxs)(o.li,{children:["Copy ",(0,t.jsx)(o.code,{children:"picoboot_full_*.uf2"})," file to the new ",(0,t.jsx)(o.code,{children:"RPI-RP2"})," (or ",(0,t.jsx)(o.code,{children:"RP2350"}),") device"]}),"\n",(0,t.jsx)(o.li,{children:"The device will auto-eject and the green LED will light up on Pico"}),"\n"]})]})}function p(e={}){let{wrapper:o}={...(0,r.a)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},65:function(e,o,i){i.d(o,{Z:()=>l,a:()=>s});var n=i(7294);let t={},r=n.createContext(t);function s(e){let o=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(r.Provider,{value:o},e.children)}}}]);